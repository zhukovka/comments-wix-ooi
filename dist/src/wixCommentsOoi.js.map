{"version":3,"sources":["wixCommentsOoi.js"],"names":["localesData","WixCommentsOoi","props","state","token","entityID","data","options","response","showPopup","comment","reportAction","shareAction","deleteAction","editAction","showReportedPopup","showGenericPopup","reportedTypes","popupData","gotError","isComment","replyContainerCommentId","showDesktopPopup","mousePosition","showNotificationPopup","notificationPopupMessage","showTopExpandedRCE","handleOnClose","bind","throwError","throwEditError","showNotification","closeShowNotification","closeErrorNotification","local","componentWillMount","settings","language","Object","keys","length","constructor","console","log","setState","error","self","setTimeout","editError","message","elm","document","querySelector","focus","render","isMobile","style","memberAuth","memberData","currentMember","navigateToProfile","appHeight","signedInstance","appDefinitionId","onLoad","styleConverter","viewSharedComment","triggerShareMode","handleGenericCallback","index","getMentionSuggestions","editorMode","versionTwoStyleDesktop","handleMoreAction","handleReportAction","handleShareAction","handleDeleteAction","handleEditAction","handleShowReportedAction","handleGenericPopup","buildShareURL","triggerScroll","PureComponent","callback","key","popupDataMap","opt","resAction","position"],"mappings":"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","file":"wixCommentsOoi.js","sourcesContent":["import React, {PureComponent} from 'react';\nimport {WixCommentsWrapper, WixCommentsWrapperEditorMode} from \"wix-comments/dist/src\";\nimport PopupOoiMobileComponent from \"./mobile/popupOoiMobileComponent\";\nimport ErrorPopupComponent from \"./mobile/ErrorPopupComponent\";\nimport * as localesData from \"./locales/text_en.json\";\nimport {ErrorComponent, NotificationComponent} from \"./components\";\n\nexport default class WixCommentsOoi extends PureComponent {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            token:this.props.token,\n            entityID: this.props.entityID,\n            data: null,\n            options: null,\n            response: null,\n            showPopup: false,\n            comment: null,\n            reportAction: null,\n            shareAction: null,\n            deleteAction: null,\n            editAction: null,\n            showReportedPopup: false,\n            showGenericPopup:false,\n            reportedTypes: null,\n            popupData:null,\n            gotError: false,\n            isComment: true,\n            replyContainerCommentId: null,\n            showDesktopPopup: false,\n            mousePosition: null,\n            showNotificationPopup:null,\n            notificationPopupMessage:null,\n            showTopExpandedRCE:false\n        };\n        this.handleOnClose = this.handleOnClose.bind(this);\n        this.throwError=this.throwError.bind(this);\n        this.throwEditError=this.throwEditError.bind(this);\n        this.showNotification=this.showNotification.bind(this);\n        this.closeShowNotification=this.closeShowNotification.bind(this);\n        this.closeErrorNotification=this.closeErrorNotification.bind(this);\n        this.local = null;\n    }\n\n    // componentWillReceiveProps(nextProps, nextContext) {\n    //     console.log('ooi componentWillReceiveProps nextProps: ',nextProps);\n    //     if(this.state.entityID !== nextProps.entityID) {\n    //         this.setState({entityID: nextProps.entityID});\n    //     }\n    // }\n\n    componentWillMount() {\n        // this.local = this.props.settings.language !== {} ? this.props.settings.language : localesData;\n        if (!this.props.settings || !this.props.settings.language || (Object.keys(this.props.settings.language).length === 0 && this.props.settings.language.constructor === Object)) {\n            this.local = localesData;\n        } else {\n            this.local = this.props.settings.language;\n        }\n\n        // this.local =  localesData;\n\n        console.log(\"this.local \", this.local);\n        console.log(\"locales.app.addFirstComment : \", this.local[\"app.addFirstComment\"]);\n    }\n\n    handleGenericPopup = (callback,key) => {\n        console.log('CALLED , OOI',this.state);\n        this.setState(() => {\n            return {\n                showPopup: true,\n                handleGenericCallback: callback,\n                showGenericPopup:true,\n                popupData: this.popupDataMap[key],\n                showDesktopPopup:false\n            };\n        });\n    };\n\n    handleMoreAction = (opt, resAction, comment, isComment, replyContainerCommentId, position, index) => {\n        this.setState((state, props) => {\n            return {\n                showPopup: true,\n                options: opt,\n                response: resAction,\n                comment: comment,\n                isComment: isComment,\n                replyContainerCommentId: replyContainerCommentId,\n                index: index,\n                showDesktopPopup: !props.isMobile,\n                mousePosition: position,\n            };\n        });\n    };\n\n    handleShowReportedAction = (reportedTypes, deleteAction, comment) => {\n        this.setState(() => {\n            return {\n                showPopup: true,\n                showReportedPopup: true,\n                reportedTypes: reportedTypes,\n                deleteAction: deleteAction,\n                comment: comment,\n                showDesktopPopup: false,\n            };\n        });\n    };\n\n    handleReportAction = (reportAction) => {\n        this.setState(() => {\n            return {\n                reportAction: reportAction\n            };\n        });\n    };\n\n    handleShareAction = (shareAction) => {\n        console.log(\"handleShareAction shareAction: \" ,shareAction);\n\n        this.setState(() => {\n            return {\n                shareAction: shareAction\n            };\n        });\n    };\n\n    handleDeleteAction = (deleteAction) => {\n        this.setState(() => {\n            return {\n                deleteAction: deleteAction\n            };\n        });\n    };\n\n    handleEditAction = (editAction, getMentionSuggestions) => {\n        console.log('wix ooi | getMentionSuggestions:', getMentionSuggestions );\n        this.setState(() => {\n            return {\n                editAction: editAction,\n                getMentionSuggestions: getMentionSuggestions\n            };\n        });\n    };\n\n    handleOnClose(){\n        this.setState(\n            {showPopup:false,\n                showReportedPopup: false,\n                showGenericPopup:false,\n                showDesktopPopup:false,\n        });\n    }\n\n    /*\n    * For Testing *\n     */\n    throwError(error){\n        this.setState({error:error});\n        let self=this;\n        setTimeout(()=>self.setState({error:null}), 3000);\n    }\n\n    throwEditError(error){\n        this.setState({editError:error});\n        let self=this;\n        setTimeout(()=>self.setState({editError:null}), 3000);\n    }\n\n    showNotification(message){\n        this.setState({notificationPopupMessage:message});\n        let self=this;\n        setTimeout(()=>self.setState({notificationPopupMessage:null,showTopExpandedRCE:true}),3000);\n    }\n    closeShowNotification(){\n        this.setState({notificationPopupMessage:null});\n        //this.setState({showTopExpandedRCE:true});\n        let elm =document.querySelector(\"#avatar\");\n        console.log(\"avatar \"+elm);\n        elm.focus();\n    }\n    closeErrorNotification(){\n        this.setState({error:null});\n    }\n    render() {\n        const {isMobile, settings, token, style, memberAuth, memberData, currentMember,\n            navigateToProfile, appHeight, signedInstance, appDefinitionId, onLoad, styleConverter, viewSharedComment, triggerShareMode} = this.props;\n        const {comment, isComment, replyContainerCommentId, showPopup, options, response,\n            reportAction, shareAction, deleteAction, editAction, handleGenericCallback, showGenericPopup,\n            popupData, showReportedPopup, reportedTypes, index, getMentionSuggestions, entityID} = this.state;\n        console.log('OOI | viewSharedComment: ', viewSharedComment);\n        console.log('OOI | this.props.entityID: ', this.props.entityID);\n\n        console.log(\"11111 this.props.editorMode\", this.props.editorMode);\n\n        return (\n            <div>\n                { this.state.error && <ErrorComponent onClose={this.closeErrorNotification} isMobile={isMobile} message={this.state.error} />}\n                {this.state.notificationPopupMessage && <NotificationComponent message={this.state.notificationPopupMessage} onClose={this.closeShowNotification}/>}\n                {viewSharedComment && <WixCommentsWrapper\n                    versionTwoStyleDesktop={this.props.versionTwoStyleDesktop}\n                    isMobile={isMobile}\n                    settings={settings}\n                    key={viewSharedComment ? viewSharedComment.entityID : entityID}\n                    entityID={viewSharedComment ? viewSharedComment.entityID : entityID}\n                    token={token}\n                    style={style}\n                    local={this.local}\n                    onMoreAction={this.handleMoreAction}\n                    onReportAction={this.handleReportAction}\n                    onShareAction={this.handleShareAction}\n                    onDeleteAction={this.handleDeleteAction}\n                    onEditAction={this.handleEditAction}\n                    onShowReportedAction={this.handleShowReportedAction}\n                    handleGenericPopup={this.handleGenericPopup}\n                    memberAuth={memberAuth}\n                    memberData={memberData}\n                    currentMember={currentMember}\n                    navigateToProfile={navigateToProfile}\n                    appHeight={appHeight}\n                    signedInstance={signedInstance}\n                    appDefinitionId={appDefinitionId}\n                    onLoad={onLoad}\n                    styleConverter={styleConverter}\n                    throwError={this.throwError}\n                    throwEditError={this.throwEditError}\n                    viewSharedComment={viewSharedComment}\n                    triggerShareMode={triggerShareMode}\n                    showNotification={this.showNotification}\n                    showTopExpandedRCE={this.state.showTopExpandedRCE}\n                    editorMode={this.props.editorMode}\n                    buildShareURL={this.props.buildShareURL}\n                />\n                }\n                {!viewSharedComment && !this.props.editorMode && <WixCommentsWrapper\n                        versionTwoStyleDesktop={this.props.versionTwoStyleDesktop}\n                        isMobile={isMobile}\n                        settings={settings}\n                        key={this.props.entityID}\n                        entityID={this.props.entityID}\n                        token={token}\n                        style={style}\n                        local={this.local}\n                        onMoreAction={this.handleMoreAction}\n                        onReportAction={this.handleReportAction}\n                        onShareAction={this.handleShareAction}\n                        onDeleteAction={this.handleDeleteAction}\n                        onEditAction={this.handleEditAction}\n                        onShowReportedAction={this.handleShowReportedAction}\n                        handleGenericPopup={this.handleGenericPopup}\n                        memberAuth={memberAuth}\n                        memberData={memberData}\n                        currentMember={currentMember}\n                        navigateToProfile={navigateToProfile}\n                        appHeight={appHeight}\n                        signedInstance={signedInstance}\n                        appDefinitionId={appDefinitionId}\n                        onLoad={onLoad}\n                        styleConverter={styleConverter}\n                        throwError={this.throwError}\n                        throwEditError={this.throwEditError}\n                        triggerShareMode={triggerShareMode}\n                        showNotification={this.showNotification}\n                        showTopExpandedRCE={this.state.showTopExpandedRCE}\n                        editorMode={this.props.editorMode}\n                        buildShareURL={this.props.buildShareURL}\n                    />\n                }\n                {this.props.editorMode && <WixCommentsWrapperEditorMode\n                    versionTwoStyleDesktop={this.props.versionTwoStyleDesktop}\n                    isMobile={isMobile}\n                    settings={settings}\n                    key={viewSharedComment ? viewSharedComment.entityID : entityID}\n                    entityID={viewSharedComment ? viewSharedComment.entityID : entityID}\n                    token={token}\n                    style={style}\n                    local={this.local}\n                    onMoreAction={this.handleMoreAction}\n                    onReportAction={this.handleReportAction}\n                    onShareAction={this.handleShareAction}\n                    onDeleteAction={this.handleDeleteAction}\n                    onEditAction={this.handleEditAction}\n                    onShowReportedAction={this.handleShowReportedAction}\n                    handleGenericPopup={this.handleGenericPopup}\n                    memberAuth={memberAuth}\n                    memberData={memberData}\n                    currentMember={currentMember}\n                    navigateToProfile={navigateToProfile}\n                    appHeight={appHeight}\n                    signedInstance={signedInstance}\n                    appDefinitionId={appDefinitionId}\n                    onLoad={onLoad}\n                    styleConverter={styleConverter}\n                    throwError={this.throwError}\n                    throwEditError={this.throwEditError}\n                    viewSharedComment={viewSharedComment}\n                    triggerShareMode={triggerShareMode}\n                    showNotification={this.showNotification}\n                    showTopExpandedRCE={this.state.showTopExpandedRCE}\n                    editorMode={this.props.editorMode}\n                />\n                }\n\n                {showPopup && <PopupOoiMobileComponent\n                    isMobile={isMobile}\n                    style={style}\n                    settings={settings}\n                    local={this.local}\n                    options={options}\n                    response={response}\n                    reportAction={reportAction}\n                    shareAction={shareAction}\n                    deleteAction={deleteAction}\n                    editAction={editAction}\n                    getMentionSuggestions={getMentionSuggestions}\n                    comment={comment}\n                    isComment={isComment}\n                    replyContainerCommentId={replyContainerCommentId}\n                    genericCallback={handleGenericCallback}\n                    showGenericPopup={showGenericPopup}\n                    genericData={popupData}\n                    onClose={this.handleOnClose}\n                    showReportedPopup={showReportedPopup}\n                    reportedTypes={reportedTypes}\n                    index={index}\n                    showDesktopPopup={this.state.showDesktopPopup}\n                    mousePosition={this.state.mousePosition}\n                    triggerScroll={this.props.triggerScroll}\n                    editError={this.state.editError}\n                />}\n\n            </div>\n        );\n    }\n}\n"]}