{"version":3,"sources":["shareModal.js"],"names":["ShareModal","props","copyToClipBoard","bind","socialMediaShare","myStyle","isMobile","shareModalStyle","styleDesk","state","copied","url","stopEventBubble","e","stopPropagation","media","console","log","window","open","self","el","document","createElement","value","body","appendChild","select","execCommand","removeChild","setState","setTimeout","handleShareAction","shareType","comment","commentId","render","style","close","shareTitle","shareAction","Facebook","Twitter","Link","React","Component"],"mappings":"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","file":"shareModal.js","sourcesContent":["import React from 'react';\nimport shareModalStyle from './style/sharemodal.scss';\nimport styleDesk from \"./style/sharemodalDesk.scss\";\nimport {FacebookIcon, Twitter, LinkIcon} from \"../svgs\";\nimport {shareAction} from \"../common/consts\";\nimport CloseIcon from \"../svgs/close-icon/closeIcon\";\n\n\n\n\nclass ShareModal extends React.Component {\n    constructor(props) {\n        super(props);\n        this.copyToClipBoard = this.copyToClipBoard.bind(this);\n        this.socialMediaShare = this.socialMediaShare.bind(this);\n        // this.toggleIOSCopyLink = this.toggleIOSCopyLink.bind(this);\n        // this.handleCopyToClipBoardClick = this.handleCopyToClipBoardClick.bind(this);\n        this.myStyle = props.isMobile ? shareModalStyle : styleDesk;\n        this.state = {\n            copied: false,\n            url: \"www.google.com\", //props.shareURL\n            // showIOSCopyLink: false\n        };\n    }\n\n    // componentDidMount() {\n    //     this.mainlabel.focus();\n    // }\n\n    stopEventBubble(e) {\n        e.stopPropagation();\n    }\n  /*  componentDidUpdate(prevProps) {\n        if(this.props.isMobile!==prevProps.isMobile){\n            if(this.props.isMobile){\n                let elm=document.querySelector(\"#backgroundPopup\");\n                elm.focus();\n            } else {\n                let elm=document.querySelector(\"#backgroundPopupDesktop\");\n                elm.focus();\n            }\n\n        }else {\n            if(this.props.isMobile){\n                let elm=document.querySelector(\"#backgroundPopup\");\n                elm.focus();\n            } else {\n                let elm=document.querySelector(\"#backgroundPopupDesktop\");\n                elm.focus();\n            }\n        }\n    }*/\n /*componentDidMount() {\n         let elm;\n         elm=document.querySelector(\"#backgroundPopup\");\n         elm.focus();\n\n }*/\n\n    socialMediaShare(media) {\n        console.log(\"socialMediaShare madia: \", media);\n        let url;\n        switch (media) {\n            case 'facebook' :\n                url = this.props.isMobile ? 'https://m.facebook.com/sharer.php?u=' : 'https://www.facebook.com/sharer/sharer.php?u=';\n                break;\n            case 'twitter'  :\n                url = 'https://twitter.com/intent/tweet?url=';\n                break;\n        }\n        url += this.state.url;\n        window.open(url, '_blank', 'top=200, left=200, width=700, height=500');\n    }\n\n    copyToClipBoard() {\n        console.log(\"copyToClipBoard start: \");\n        let self = this;\n        let url = this.state.url;\n        const el = document.createElement('input');\n        el.value = url;\n        document.body.appendChild(el);\n        el.select();\n        document.execCommand('copy');\n        document.body.removeChild(el);\n        self.setState({copied: true});\n        setTimeout(function () {\n            self.setState({copied: false});\n        }, 1500);\n        console.log(\"copyToClipBoard end: \");\n    }\n\n    handleShareAction(shareType) {\n        const {handleShareAction, comment} = this.props;\n        handleShareAction(shareType, comment.commentId);\n    }\n\n    //\n    // isIOS() {\n    //     try {\n    //         return !!navigator.platform && /iPad|iPhone|iPod/.test(navigator.platform);\n    //     } catch (e) {\n    //         return false;\n    //     }\n    // }\n    //\n    // toggleIOSCopyLink(flag) {\n    //     this.setState({showIOSCopyLink: flag});\n    // }\n    //\n    // handleCopyToClipBoardClick() {\n    //     if (this.props.isMobile && this.isIOS()) {\n    //         this.toggleIOSCopyLink(true);\n    //     } else {\n    //         this.copyToClipBoard();\n    //     }\n    // }\n\n\n    render() {\n        const {style,isMobile,close} = this.props;\n        return (\n            <div id={\"shareModal\"} className={this.myStyle[\"share_modal_backdrop_style\"]} onClick={this.props.close}>\n                    <div className={this.myStyle[\"share_modal_container_style\"]} onClick={(e) => e.stopPropagation()}>\n                        {!isMobile && <CloseIcon onClick={close}  isMobile={isMobile}/> }\n                        <div className={this.myStyle[\"share_modal_content_container\"]}>\n                            <div className={this.myStyle[\"share_modal_header_container\"]}>\n                                <span className={this.myStyle[\"share_modal_header\"] +(!isMobile ? ' report_main_title_desktop':'')}>\n                                    {this.props.shareTitle}\n                                </span>\n                            </div>\n                            <div style={{\"text-align\":\"center\"}}>\n                            <ul style={{\"display\":\"inline-table\"}} id={\"shareModalMenu\"} role={\"menu\"} aria-labelledby={\"share\"} tabIndex={-1} className={this.myStyle[\"share_modal_content\"]}>\n\n                              <li style={{\"display\":\"display\",\"float\":\"left\"}} onClick={() => this.handleShareAction(shareAction.Facebook)} aria-label={\"facebook\"} tabIndex={0} role={\"menuitem\"}><FacebookIcon size={!isMobile ? \"24\" :''} className={this.myStyle[\"share_modal_img\"]}/></li>\n\n                              <li style={{\"display\":\"display\",\"float\":\"left\"}} onClick={() => this.handleShareAction(shareAction.Twitter)} aria-label={\"twitter\"} tabIndex={0} role={\"menuitem\"}><Twitter size={!isMobile ? \"24\" :''} className={this.myStyle[\"share_modal_img\"]}/></li>\n\n                              <li style={{\"display\":\"display\",\"float\":\"left\"}} onClick={() => this.handleShareAction(shareAction.Link)} aria-label={\"copy link\"} tabIndex={0} role={\"menuitem\"}>   <LinkIcon size={!isMobile ? \"24\" :''} className={this.myStyle[\"share_modal_img\"]}/></li>\n\n                            </ul>\n                            </div>\n                        </div>\n                    </div>\n            </div>\n        );\n    }\n}\n\n// ShareModal.propTypes = {\n//     show: PropTypes.bool.isRequired,\n//     handleShareAction: PropTypes.func.isRequired,\n// };\n\n\nexport default ShareModal;\n"]}