{"version":3,"sources":["popupOoiMobileComponent.js"],"names":["PopupOoiMobileComponent","props","doFocus","divMoreAction","current","focus","console","log","handleKeys","event","target","id","elm","keyCode","handleClose","click","document","querySelector","firstElementChild","preventDefault","nextElementSibling","downPrevId","upPrevId","reportPopup","state","showDesktopPopup","lastElementChild","previousElementSibling","handleMoreActionResponse","answer","response","moreActionModal","data","value","showShare","isMobile","showEdit","showReport","showDelete","setState","closeMainModal","showMainModal","showReportModal","showShareModal","showDeleteModal","showEditModal","handleAction","setTimeout","triggerScroll","bind","show","showReportedModal","showGenericPopup","isRequestSuccess","isReportError","onClose","action","DeleteComment","getElementById","comment","commentId","handleShareAction","actionType","shareAction","handleReportConfirmAction","reportType","reportAction","reportCallBack","res","handleDeleteCommentAction","isComment","replyContainerCommentId","deleteAction","handleEditComment","content","editAction","handleGenericCallback","genericCallback","getReportLabels","local","title","optionsTitle","cancel","confirm","done","responseTitle","responseMessage","getReportOptions","ReportType","UnwantedContent","label","Harassment","InappropriateContent","HateSpeechOrGraphic","React","createRef","divMoreActionDesktop","componentDidUpdate","prevProps","prevState","snapshot","componentDidMount","options","showReportedPopup","getMentionSuggestions","componentWillReceiveProps","nextProps","render","errorStatus","editError","display","position","top","left","width","height","backgroundColor","justifyContent","zIndex","e","stopPropagation","style","reportedTypes","genericData","mousePosition","Component"],"mappings":"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","file":"popupOoiMobileComponent.js","sourcesContent":["import React, {Component} from 'react';\nimport {ShareModal, MoreActionModal, Report, DeleteComment, GenericPopup, CommentReported, EditComment} from \"../components\";\nimport PropTypes from \"prop-types\";\nimport {ReportType,action} from \"../common/consts\";\n\nexport default class PopupOoiMobileComponent extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            moreActionModal: {\n                show: false,\n                data: null\n            },\n            reportAction: null,\n            deleteAction: null,\n            shareAction: null,\n            editAction:null,\n            showMainModal: true,\n            genericCallback: null,\n            showGenericPopup: false,\n            showReportModal: false,\n            showDeleteModal: false,\n            showShareModal: false,\n            showEditModal: false,\n            showReportedModal: false,\n            closeMainModal: false,\n            isRequestSuccess: false,\n            isReportError: false,\n            showDesktopPopup: false,\n        };\n        this.downPrevId=null;\n        this.upPrevId=null;\n        this.reportPopup=null;\n        this.handleMoreActionResponse = this.handleMoreActionResponse.bind(this);\n        this.handleClose = this.handleClose.bind(this);\n        this.handleShareAction = this.handleShareAction.bind(this);\n        this.handleDeleteCommentAction = this.handleDeleteCommentAction.bind(this);\n        this.handleReportConfirmAction = this.handleReportConfirmAction.bind(this);\n        this.divMoreAction = React.createRef();\n        this.divMoreActionDesktop = React.createRef();\n    }\n    \n    componentDidUpdate(prevProps, prevState, snapshot) {\n        let {showMainModal, showReportModal, showShareModal, showDeleteModal, showEditModal, showReportedModal} = this.state;\n        if(showMainModal || showReportModal || showShareModal || showDeleteModal || showEditModal || showReportedModal){\n            this.props.triggerScroll(false);\n        }\n        console.log(\"this.props.showDesktopPopup \" + this.props.showDesktopPopup);\n        console.log(\"prevProps.showDesktopPopup \" + prevProps.showDesktopPopup);\n        console.log(\"this.state.showDesktopPopup \" + this.state.showDesktopPopup);\n        console.log(\"prevProps.isMobile \"+prevProps.isMobile) ;\n        console.log(\"this.props.isMobile \"+this.props.isMobile);\n        console.log(\"this.state.showEditModal \"+this.state.showEditModal);\n\n        if(prevProps.showDesktopPopup===true && this.state.showDesktopPopup===true){\n            this.divMoreActionDesktop.current.focus();\n        }else if(prevProps.showDesktopPopup===false && this.state.showDesktopPopup===false && this.props.isMobile===true){\n            this.divMoreAction.current.focus();\n        }else if(prevProps.showDesktopPopup===false && this.state.showDesktopPopup===false && this.props.isMobile===false){\n            this.divMoreAction.current.focus();\n        }else if(prevProps.showDesktopPopup!==this.state.showDesktopPopup && this.props.isMobile===false){\n            this.divMoreAction.current.focus();\n        }\n\n       /* if(this.state.showDesktopPopup!==prevProps.showDesktopPopup){\n            if(this.state.showDesktopPopup===true){\n                let elm = document.querySelector(\"#backgroundPopupDesktop\");\n                console.log(\"elmId \" + elm.id);\n                elm.focus();\n            }else {\n                this.divMoreAction.current.focus();\n            }\n        }else {\n          {this.props.isMobile ? this.divMoreAction.current.focus() : this.divMoreActionDesktop.current.focus()}\n        }*/\n\n     /*   if (this.props.showDesktopPopup !== prevProps.showDesktopPopup) {\n            if (this.props.showDesktopPopup) {\n                let elm = document.querySelector(\"#backgroundPopupDesktop\");\n                console.log(\"elmId \" + elm.id);\n                elm.focus();\n            } else {\n                this.divMoreAction.current.focus();\n            }\n        }else {\n            if (this.props.showDesktopPopup) {\n                let elm = document.querySelector(\"#backgroundPopupDesktop\");\n                console.log(\"elmId \" + elm.id);\n                elm.focus();\n            }else {\n                this.divMoreAction.current.focus();\n            }\n        }*/\n       // this.divMoreAction.current.focus();\n     /*   if(this.props.isMobile){\n            this.divMoreAction.current.focus();\n        }else {\n            let elm = document.querySelector(\"#backgroundPopupDesktop\");\n            console.log(\"elmId \" + elm.id);\n            elm.focus();\n        } */\n    }\n    doFocus=()=>{\n        this.divMoreAction.current.focus();\n        console.log(\"fdd\")\n    }\n\n    componentDidMount() {\n        const {options, response, reportAction, deleteAction, shareAction, showReportedPopup, showGenericPopup, genericCallback , editAction, getMentionSuggestions} = this.props;\n        console.log(\"Popup props:\", this.props);\n        this.setState((state, props) => {\n                return {\n                    moreActionModal: {\n                        show: true,\n                        data: {options: options, response: response}\n                    },\n                    reportAction: reportAction,\n                    editAction: editAction,\n                    getMentionSuggestions:getMentionSuggestions,\n                    deleteAction: deleteAction,\n                    shareAction: shareAction,\n                    genericCallback: genericCallback,\n                    showMainModal: !(showReportedPopup || state.closeMainModal || showGenericPopup),\n                    showReportedModal: showReportedPopup,\n                    showGenericPopup: showGenericPopup,\n                    showDesktopPopup: props.showDesktopPopup,\n                };\n            }\n        );\n    }\n    handleKeys=(event)=> {\n      //  console.log(\"gray element: \", document.querySelector(\"#backgroundPopup\").parentElement.firstElementChild.getElementsByTagName(\"ul\")[0].lastElementChild);\n          console.log('event.target.id '+event.target.id);\n     //   console.log(\"more \"+document.querySelector(\"#moreActionsMenu\").firstElementChild);\n        let elm;\n        if (event.keyCode === 27) {\n          this.handleClose();\n        }\n        if (event.keyCode === 13) event.target.click();\n        else if (event.keyCode === 40 || event.keyCode === 9 ) {//down\n               if(event.target.id ===\"backgroundPopup\" || event.target.id ===\"backgroundPopupDesktop\"){\n                  // elm = document.querySelector(\"#backgroundPopup\").parentElement.firstElementChild.getElementsByTagName(\"ul\")[0].firstElementChild;\n                   elm = document.querySelector(\"#section\").firstElementChild;\n                   console.log(\"id is \"+elm.id);\n                   if(elm.id===\"shareModal\"){\n                       elm = document.querySelector(\"#shareModalMenu\").firstElementChild;\n                   }\n                   if(elm.id===\"moreActionsMenu\"){\n                       elm = document.querySelector(\"#moreActionsMenu\").firstElementChild;\n                   }\n                   if(elm.id===\"popup-wrapper\"){\n                      //elm = document.querySelector(\"#reportModal\").firstElementChild;\n                       elm = document.querySelector(\"#close_button\");\n                   }\n                   if(elm.id===\"editModal\"){\n                       elm = document.querySelector(\"#richContentTextId\");\n                   }\n                   console.log(elm);\n                   elm.focus();\n                   event.preventDefault();\n               }\n\n               else {\n                   let elm =  event.target.nextElementSibling;\n                   console.log(\"elm down is \"+elm);\n                   /******** for commentReported ********/\n                   if(elm!==null && elm.id===\"commentReported\"){\n                       elm = document.querySelector(\"#reportButtons\").firstElementChild;\n                   }\n                   /******** for commentReported ********/\n                 /******** for report popup ********/\n                   if(elm !==null && elm.id===\"reportTitle\"){\n                       this.downPrevId=elm.id;\n                       console.log(\"this.downPrevId \"+this.downPrevId);\n                       elm = document.querySelector(\"#reportModal\").firstElementChild;\n                   }\n                   if(elm==null && this.downPrevId===\"reportTitle\"){\n                       elm = document.querySelector(\"#reportButtons\").firstElementChild;\n                       this.downPrevId=null;\n                       this.upPrevId=\"reportModal\";\n                   }\n                  /******* for report popup ********/\n\n                  /** -----------------------------------**/\n\n                  /******* for delete popup ********/\n                   if(elm !==null && elm.id===\"deleteTitle\"){\n                       this.upPrevId=\"close_button\";\n                       this.reportPopup=\"delete\";\n                       console.log(\"this.downPrevId \"+this.downPrevId);\n                       elm = document.querySelector(\"#reportButtons\").firstElementChild;\n                   }\n                  /******* for delete popup********/\n\n\n                   /** -----------------------------------**/\n\n\n                   /******* for edit popup ********/\n                   if(elm !==null && elm.id===\"PluginsButtonId\"){\n                       elm = document.querySelector(\"#editButtons\").firstElementChild;\n                       this.upPrevId=\"PluginsButtonId\";\n                   }\n                   /******* for edit popup ********/\n\n                   if(elm==null) {\n\n                       if(this.state.showDesktopPopup) elm=document.querySelector(\"#backgroundPopupDesktop\");\n                       else  elm=document.querySelector(\"#backgroundPopup\");\n                       console.log(elm)\n                       elm.focus();\n                       event.preventDefault();\n                   }\n                   console.log(\"this.downPrevId \"+this.downPrevId);\n                   console.log(elm);\n                   elm.focus();\n                   event.preventDefault();\n               }\n       }\n        else if (event.keyCode === 38 || event.keyCode === 9){//up\n            if(event.target.id ===\"backgroundPopup\" || event.target.id ===\"backgroundPopupDesktop\"){\n               // elm = document.querySelector(\"#backgroundPopup\").parentElement.firstElementChild.getElementsByTagName(\"ul\")[0].lastElementChild;\n                elm = document.querySelector(\"#section\").firstElementChild;\n                console.log(\"id is \"+elm.id);\n                if(elm.id===\"shareModal\"){\n                    elm = document.querySelector(\"#shareModalMenu\").lastElementChild;\n                }\n                if(elm.id===\"moreActionsMenu\"){\n                    elm = document.querySelector(\"#moreActionsMenu\").lastElementChild;\n                }\n               /* if(elm.id==\"popup-wrapper\"){\n                    elm = document.querySelector(\"#reportModal\").lastElementChild;\n                }*/\n                if(elm.id===\"popup-wrapper\"){\n                    //elm = document.querySelector(\"#reportModal\").firstElementChild;\n                    elm = document.querySelector(\"#reportButtons\").lastElementChild;\n                    this.reportPopup!==\"delete\" ? this.upPrevId=\"reportModal\" : this.upPrevId=\"close_button\";\n                }\n                if(elm.id===\"editModal\"){\n                     elm = document.querySelector(\"#editButtons\").lastElementChild;\n                     this.upPrevId=\"PluginsButtonId\";\n                }\n                console.log(elm);\n                elm.focus();\n                event.preventDefault();\n            }\n            else {\n                console.log(\"this.downPrevId \"+this.downPrevId);\n                console.log(\"this.upPrevId \"+this.upPrevId  );\n                let elm =  event.target.previousElementSibling;\n                if(elm==null && this.upPrevId===\"close_button\"){\n                    console.log(\"this.upPrevId \"+this.upPrevId);\n                    elm = document.querySelector(\"#close_button\");\n                    this.upPrevId=null;\n                }\n                if(elm==null && this.upPrevId===\"reportModal\"){\n                    elm = document.querySelector(\"#reportModal\").lastElementChild;\n                    this.upPrevId=\"close_button\";\n                    this.downPrevId=\"reportTitle\";\n                }\n                if(elm==null && this.upPrevId===\"PluginsButtonId\"){\n                    elm = document.querySelector(\"#richContentTextId\");\n                    this.upPrevId=null;\n                }\n                if(elm==null) {\n                    if(this.state.showDesktopPopup) elm=document.querySelector(\"#backgroundPopupDesktop\");\n                    else  elm=document.querySelector(\"#backgroundPopup\");\n                    console.log(elm)\n                    elm.focus();\n                    event.preventDefault();\n                }\n                console.log(elm);\n                elm.focus();\n                event.preventDefault();\n            }\n\n        }\n    }\n\n    componentWillReceiveProps(nextProps) {\n        const {reportAction, deleteAction, shareAction, showReportedPopup, genericCallback, editAction, getMentionSuggestions} = nextProps;\n        console.log(\"MMMMMMMMMM\", genericCallback);\n\n        this.setState((state) => {\n            return {\n                reportAction: reportAction,\n                deleteAction: deleteAction,\n                shareAction: shareAction,\n                genericCallback: genericCallback,\n                editAction: editAction,\n                getMentionSuggestions: getMentionSuggestions,\n                // showDesktopPopup: showDesktopPopup,\n                // showMainModal: !(showReportedPopup || state.closeMainModal),\n                // showReportedModal: showReportedPopup,\n            };\n        });\n    }\n\n    handleMoreActionResponse = (answer, id) => {\n        console.log(\"11112121 answer: \", answer);\n        const {\n            moreActionModal: {\n                data: {response}\n            }\n        } = this.state;\n\n        switch (answer.value) {\n            case \"share\":\n                response(answer);\n                this.showShare();\n                break;\n            case \"edit\":\n                response(answer, id);\n                this.props.isMobile ? this.showEdit() : this.handleClose();\n                break;\n            case \"report\":\n                response(answer);\n                this.showReport();\n                break;\n            case \"delete\":\n                response(answer);\n                this.showDelete();\n                /**for accessibility**/\n                this.reportPopup=\"delete\";\n                /**for accessibility**/\n                break;\n            default:\n                this.handleClose();\n        }\n    };\n\n    showReport = () => {\n        this.setState(() => {\n            return {\n                showDesktopPopup: false,\n                closeMainModal: true,\n                showMainModal: false,\n                showReportModal: true\n            };\n        });\n    };\n\n    showShare = () => {\n        this.setState(() => {\n            return {\n                showDesktopPopup: false,\n                closeMainModal: true,\n                showMainModal: false,\n                showShareModal: true\n            };\n        });\n    };\n\n    showDelete = () => {\n        this.setState(() => {\n            return {\n                showDesktopPopup: false,\n                closeMainModal: true,\n                showMainModal: false,\n                showDeleteModal: true\n            };\n        });\n    };\n\n    showEdit = () => {\n        console.log(\" showEdit \");\n        this.setState(() => {\n            return {\n                showDesktopPopup: false,\n                closeMainModal: true,\n                showMainModal: false,\n                showEditModal: true\n            };\n        });\n        //this.handleClose();\n    };\n\n    handleClose = (handleAction) => {\n        console.log(\"handleClose | this.props: \", this.props);\n        setTimeout(function(){this.props.triggerScroll(true)}.bind(this),0);\n\n        this.setState(() => {\n            return {\n                moreActionModal: {\n                    show: false,\n                    data: null\n                },\n                showDesktopPopup: false,\n                closeMainModal: false,\n                showMainModal: false,\n                showReportModal: false,\n                showShareModal: false,\n                showDeleteModal: false,\n                showEditModal: false,\n                showReportedModal: false,\n                showGenericPopup: false,\n                isRequestSuccess: false,\n                isReportError: false,\n            };\n        });\n\n        this.props.onClose();\n\n       if(handleAction===action.DeleteComment){\n           let elm=document.querySelector(\"#commentHasBeenDeleted\");\n           console.log(elm);\n           elm && elm.focus();\n        }\n       else{\n           let elm = document.getElementById(`${this.props.comment.commentId}`);\n           elm && elm.focus();\n       }\n\n    };\n\n    handleShareAction = (actionType, commentId) => {\n        const {shareAction} = this.state;\n        shareAction(actionType, commentId);\n\n        this.handleClose();\n    };\n\n    handleReportConfirmAction = (reportType) => {\n        const {reportAction} = this.state;\n        const {comment} = this.props;\n\n        reportAction(reportType, comment.commentId, this.reportCallBack);\n    };\n\n    reportCallBack = (res) => {\n        console.log('111111111reportCallBack res: ', res);\n        this.setState({\n            isRequestSuccess: res,\n            isReportError: !res\n        });\n    };\n\n    handleDeleteCommentAction = (commentId) => {\n        const {isComment, replyContainerCommentId} = this.props;\n        const {deleteAction} = this.state;\n        deleteAction(commentId, isComment, replyContainerCommentId);\n        this.handleClose(action.DeleteComment);\n    };\n\n    handleEditComment = (content, id) => {\n        console.log('PopupOoiMobileComponent | handleEditComment this.props.isComment : ', this.props.isComment);\n        const {isComment, replyContainerCommentId} = this.props;\n        const {editAction} = this.state;\n        editAction(content, id, isComment, replyContainerCommentId,this.handleClose);\n    };\n\n    handleGenericCallback = () => {\n        const {genericCallback} = this.state;\n        genericCallback();\n    };\n\n    getReportLabels = () => {\n        const {local} = this.props;\n        return {\n            title: local[\"comment.reportTitle\"]\n            , optionsTitle: local[\"comment.reportQuestion\"]\n            , cancel: local[\"menu.cancel\"]\n            , confirm: local[\"comment.reportAcceptButton\"]\n            , done: local[\"menu.done\"]\n            , responseTitle: local[\"comment.reportConfirmTitle\"]\n            , responseMessage: local[\"comment.reportConfirmContent\"]\n        };\n    };\n\n    getReportOptions = () => {\n        const {local} = this.props;\n        return [\n            {\n                value: ReportType.UnwantedContent,\n                label: local[\"comment.reportOption1\"]\n            },\n            {\n                value: ReportType.Harassment,\n                label: local[\"comment.reportOption2\"]\n            },\n            {\n                value: ReportType.InappropriateContent,\n                label: local[\"comment.reportOption3\"]\n            },\n            {\n                value: ReportType.HateSpeechOrGraphic,\n                label: local[\"comment.reportOption4\"]\n            }\n        ];\n    };\n\n    render() {\n        const {comment, local,isMobile} = this.props;\n        const {showGenericPopup, moreActionModal, showMainModal, showReportModal, showShareModal, showDeleteModal, showReportedModal, showEditModal, getMentionSuggestions, showDesktopPopup} = this.state;\n        const {show, data} = moreActionModal;\n        let errorStatus=null;\n        if(this.props.editError && this.props.editError.id===comment.commentId){\n            errorStatus=this.props.editError;\n        }\n        return (\n            <div>\n                {!showDesktopPopup ?\n                    <div\n                        style={{\n                            display: show ? \"flex\" : \"none\",\n                            position: \"fixed\",\n                            top: 0,\n                            left: 0,\n                            width: \"100%\",\n                            height: \"100%\",\n                            backgroundColor: \"rgba(0,0,0,0.4)\",\n                            justifyContent: \"center\",\n                            zIndex:99999\n                        }}\n                        tabindex={0}\n                        role={\"dialog\"}\n                        aria-labelledby={\"moreActions\"}\n                        id={\"backgroundPopup\"}\n                        ref={this.divMoreAction}\n                        onClick={this.handleClose}\n                        onKeyDown={this.handleKeys}\n                        aria-label={\"close dialog\"}\n                    >\n                        <section id={\"section\"} onClick={(e) => e.stopPropagation()}>\n\n                            {showMainModal &&\n\n                            <MoreActionModal\n                                isMobile={isMobile}\n                                data={data}\n                                handleMoreActionResponse={this.handleMoreActionResponse}\n                                comment={comment}\n                            />}\n\n                            {showReportModal &&\n                            <Report\n                                isMobile={isMobile}\n                                style={this.props.style}\n                                labels={this.getReportLabels()}\n                                reportOptions={this.getReportOptions()}\n                                exit={this.handleClose}\n                                confirmAction={this.handleReportConfirmAction}\n                                isRequestSuccess={this.state.isRequestSuccess}\n                                isReportError={this.state.isReportError}\n                            />}\n\n                            {showShareModal &&\n                            <ShareModal style={this.props.style}\n                                        isMobile={isMobile}\n                                        shareTitle={local[\"menu.shareCommentTitle\"]}\n                                        handleShareAction={this.handleShareAction}\n                                        close={this.handleClose}\n                                        comment={comment}\n                                        doFocus={this.doFocus}\n                            />}\n\n                            {showDeleteModal &&\n                            <DeleteComment\n                                isMobile={isMobile}\n                                comment={comment}\n                                style={this.props.style}\n                                title={local[\"comment.deleteTitle\"]}\n                                content={local[\"comment.deleteText\"]}\n                                button1Value={local[\"menu.delete\"]}\n                                cancel={local[\"menu.cancel\"]}\n                                exit={this.handleClose}\n                                handleDeleteCommentAction={this.handleDeleteCommentAction}\n                            />}\n\n                            {showReportedModal &&\n                            <CommentReported\n                                isMobile={isMobile}\n                                comment={comment}\n                                style={this.props.style}\n                                title={local[\"comment.reportedTitle\"]}\n                                contentTop={local[\"comment.reportedContentTop\"]}\n                                contentBottom={local[\"comment.reportedContentBottom\"]}\n                                button1Value={local[\"menu.delete\"]}\n                                cancel={local[\"menu.cancel\"]}\n                                reportedTypes={this.props.reportedTypes}\n                                exit={this.handleClose}\n                                handleDeleteCommentAction={this.handleDeleteCommentAction}\n                            />}\n\n                            {showEditModal &&\n                            <EditComment\n                                local={local}\n                                isMobile={isMobile}\n                                comment={comment}\n                                style={this.props.style}\n                                onUpdateComment={this.handleEditComment}\n                                exit={this.handleClose}\n                                getMentionSuggestions={getMentionSuggestions}\n                                editError={errorStatus}\n                            />}\n\n                            {showGenericPopup &&\n                            <GenericPopup\n                                isMobile={isMobile}\n                                style={this.props.style}\n                                data={this.props.genericData}\n                                cancel={local[\"menu.cancel\"]}\n                                exit={this.handleClose}\n                                genericCallback={this.handleGenericCallback}\n                            />}\n\n                        </section>\n                    </div>\n:\n                    <div\n                        style={{\n                            display: show ? \"flex\" : \"none\",\n                            position: \"fixed\",\n                            top: 0,\n                            left: 0,\n                            width: \"100%\",\n                            height: \"100%\",\n                            backgroundColor: \"rgba(0,0,0,0)\",\n                            justifyContent: \"center\",\n                            zIndex:99999\n                        }}\n                        tabIndex={0}\n                        onClick={this.handleClose}\n                        onKeyDown={this.handleKeys}\n                        id={\"backgroundPopupDesktop\"}\n                        ref={this.divMoreActionDesktop}\n                        role={\"dialog\"}\n                        aria-labelledby={\"moreActions\"}\n                        aria-label={\"close dialog\"}\n                    >\n                        <section id={\"section\"} onClick={(e) => e.stopPropagation()}>\n\n                            {showMainModal &&\n                            <MoreActionModal\n                                isMobile={isMobile}\n                                data={data}\n                                handleMoreActionResponse={this.handleMoreActionResponse}\n                                comment={comment}\n                                mousePosition={this.props.mousePosition}\n                            />}\n\n                        </section>\n                    </div>\n                }\n            </div>\n        );\n    }\n}"]}